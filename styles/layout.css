/* 레이아웃 스타일 */
@import url('variables.css');

/* ========================================
   기본 레이아웃
======================================== */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    color: var(--color-text-primary);
    background-color: var(--color-bg-primary);
    line-height: 1.5;
    overflow-x: hidden;
}

/* body에 bottom-nav가 있을 때 */
body.has-bottom-nav {
    padding-bottom: calc(var(--bottom-nav-height) + env(safe-area-inset-bottom, 0px));
    min-height: 100vh;
}

/* ========================================
   컨테이너
======================================== */

.container {
    max-width: var(--container-max-width);
    min-height: 100vh;
    margin: 0 auto;
    background-color: var(--color-bg-primary);
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    padding-bottom: calc(var(--bottom-nav-height) + env(safe-area-inset-bottom, 0px) + var(--spacing-md));
}

/* Day 뷰일 때는 container의 overflow를 완전히 제거하여 body가 스크롤 컨테이너가 되도록 */
.container.day-view-active {
    overflow: visible !important;
    /* 최소 높이를 더 크게 설정하여 sticky가 항상 작동하도록 */
    min-height: calc(100vh + 200px);
    /* Day 뷰일 때는 하단 패딩 제거 */
    padding-bottom: 0;
}

/* body:has(.container.day-view-active)로 스크롤 가능하게 보장 */
body:has(.container.day-view-active) {
    min-height: calc(100vh + 1px);
}

/* ========================================
   반응형
======================================== */

@media (max-width: 428px) {
    .container {
        max-width: 100%;
        padding-bottom: calc(var(--bottom-nav-height-mobile) + env(safe-area-inset-bottom, 0px) + var(--spacing-sm));
    }
    
    .container.day-view-active {
        padding-bottom: 0;
    }
    
    body.has-bottom-nav {
        padding-bottom: calc(var(--bottom-nav-height-mobile) + env(safe-area-inset-bottom, 0px));
    }
}

